(this["webpackJsonpomnisaude-operadora"]=this["webpackJsonpomnisaude-operadora"]||[]).push([[1],{781:function(e,a,t){"use strict";t.d(a,"a",(function(){return f}));var r=t(9),n=t.n(r),c=t(13),o=t(3),l=t(0),i=t.n(l),u=t(46),s=t(64),d=t(44),m=t(47),p=Object(l.createContext)({prestador:void 0,loading:!1,alternarDoutor:function(e){},alternarEspecialidade:function(e){},alternarSecretaria:function(e){},alternarVinculoSecretariaDoutor:function(e,a){}}),f=function(e){var a=e.children,t=e.usuId,r=Object(s.a)("prestador",void 0),f=Object(o.a)(r,2),b=f[0],v=f[1],h=Object(l.useState)(!1),E=Object(o.a)(h,2),O=E[0],j=E[1],k=Object(l.useState)(!1),x=Object(o.a)(k,2),w=x[0],C=x[1],y=Object(u.a)(),g=Object(l.useCallback)(Object(c.a)(n.a.mark((function e(){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/prestador/".concat(t,"/"));case 3:return a=e.sent,r=a.data,v(r),e.abrupt("return");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[y,v,t]);Object(d.a)((function(){b&&b.id||(j(!0),g())}));var S=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){var r,c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.endereco,c=a.nome,o={cep:r.cep.replace(/[-]/,""),complemento:r.complemento},j(!0),e.prev=3,e.next=6,y.patch("/prestador/".concat(t,"/"),{nome:c,endereco:o});case 6:return e.next=8,g();case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(3),j(!1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a){return e.apply(this,arguments)}}(),[y,g,t]),D=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.post("/prestador/".concat(t,"/doutor/"),a);case 4:g(),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),j(!1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),[y,g,t]),N=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.post("/prestador/".concat(t,"/secretaria/"),a);case 4:g(),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),j(!1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),[y,g,t]),F=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/doutor/",{params:a});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),[y]),M=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/secretaria/",{params:a});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),[y]),I=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.put("/prestador-alternar-doutor/".concat(t,"/"),{doutor_id:a});case 4:return e.next=6,g();case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),j(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),[y,g,t]),_=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.put("/prestador-alternar-especialidade/".concat(t,"/"),{especialidade_id:a});case 4:return e.next=6,g();case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),j(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),[y,g,t]),L=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.put("/prestador-alternar-secretaria/".concat(t,"/"),{secretaria_id:a});case 4:return e.next=6,g();case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),j(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),[y,g,t]),V=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.put("/prestador-alternar-secretaria-doutor/".concat(t,"/"),{secretaria_id:a,doutor_id:r});case 4:return e.next=6,g();case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),j(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),[y,g,t]),P=Object(l.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(a,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,y.put("/prestador-alternar-doutor-especialidade/".concat(t,"/"),{doutor_id:a,especialidade_id:r});case 4:return e.next=6,g();case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),j(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),[y,g,t]),T=function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,y.patch("/prestador/".concat(t,"/"),{responsavel:a});case 4:return e.next=6,g();case 6:j(!1),C(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}();return i.a.createElement(p.Provider,{value:{prestador:b,loading:O,atualizarDadosPrestador:S,criarDoutor:D,criarSecretaria:N,buscarDoutor:F,buscarSecretaria:M,alternarDoutor:I,alternarEspecialidade:_,alternarSecretaria:L,alternarVinculoSecretariaDoutor:V,alternarVinculoDoutorEspecialidade:P,vincularMedicoResponsavel:T,vinculoModal:w,setVinculoModal:C}},i.a.createElement(m.a,{loading:O}),a)};a.b=p},782:function(e,a,t){"use strict";var r=t(804);a.a=function(e){var a=e.split("/");return Object(r.a)(a).slice(1).map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)}(e)}))}},784:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"a",(function(){return u}));t(292);var r=t(65),n=(t(291),t(106)),c=t(57),o=t(0),l=t.n(o),i=(t(807),function(e){var a=e.children,t=Object(c.a)(e,["children"]);return l.a.createElement(n.a,Object.assign({gutter:16,justify:"start"},t),a)}),u=function(e){var a=e.children,t=Object(c.a)(e,["children"]);return l.a.createElement(r.a,Object.assign({},t,{className:"custom-grid-col ".concat(t.className)}),a)}},791:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));t(152);var r=t(59),n=t(3),c=t(57),o=t(0),l=t.n(o),i=(t(816),Object(o.memo)((function(e){var a=e.children,t=e.skipBold,i=void 0!==t&&t,u=Object(c.a)(e,["children","skipBold"]),s=Object(o.useMemo)((function(){return a}),[a]),d=Object(n.a)(s,2),m=d[0],p=d[1],f=Object(o.useMemo)((function(){return p instanceof Array}),[p]);return p?l.a.createElement("article",Object.assign({},u,{className:"omni-text-display ".concat(u.className)}),l.a.createElement("p",{className:"omni-text-display-label"},m),f?p.map((function(e,a){return l.a.createElement(r.a,{key:a,style:{color:"var(--primary-color)",margin:"2px"}},e)})):l.a.createElement("p",{className:"omni-text-display-value".concat(i?"-no-bold":"")},p)):l.a.createElement(l.a.Fragment,null)})))},802:function(e,a,t){"use strict";t(91);var r=t(42),n=t(0),c=t.n(n),o=(t(911),t(784)),l=t(791),i=t(120),u=t(841),s=Object(n.memo)((function(e){var a=e.cnpj,t=e.tipo,n=e.responsavel,s=e.nome;return c.a.createElement(r.a,{title:"Dados PJ",bordered:!1},c.a.createElement(o.b,null,c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"Nome Fantasia",s)),c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"cnpj",Object(i.a)([a,"cnpj"]))),c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"tipo de prestador",u.a[t])),c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"respons\xe1vel",n.nome_completo))))})),d=t(3),m=(t(912),t(955)),p=(t(35),t(8)),f=(t(913),Object(n.memo)((function(e){var a=e.title,t=e.buttonLabel,r=e.buttonIcon,n=e.buttonAction;return c.a.createElement("div",{className:"inline-card-header"},c.a.createElement("div",{className:"inline-card-header-title"},a),c.a.createElement(p.a,{type:"default",icon:r,onClick:n},t))}))),b=(t(68),t(37)),v=(t(92),t(24)),h=t(9),E=t.n(h),O=(t(90),t(28)),j=t(13),k=(t(71),t(7)),x=(t(914),t(129)),w=t(781),C=Object(n.memo)((function(e){var a=e.open,t=e.close,r=Object(n.useContext)(w.b),o=r.prestador,l=r.atualizarDadosPrestador,i=k.a.useForm(),u=Object(d.a)(i,1)[0],s=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l(a),O.a.error("Dados do prestador atualizados com sucesso!")}catch(r){O.a.error("Ocorreu um erro ao atualizar os dados do prestador.")}finally{t()}case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[l,t]);return c.a.createElement(b.a,{key:"modal-editar-endereco",title:"Local de Atendimento",visible:a,onCancel:t,centered:!0,footer:[c.a.createElement(p.a,{type:"link",onClick:t},"Cancelar"),c.a.createElement(p.a,{type:"primary",onClick:u.submit},"Salvar altera\xe7\xf5es")]},c.a.createElement(k.a,{layout:"vertical",form:u,initialValues:o,onFinish:s},c.a.createElement(k.a.Item,{label:"Nome Fantasia",name:"nome"},c.a.createElement(v.a,{placeholder:"Nome Fantasia",style:{width:"100%"}})),c.a.createElement(k.a.Item,{label:"CEP",name:["endereco","cep"]},c.a.createElement(x.b,{mask:"11111-111",placeholder:"CEP",style:{width:"100%"}})),c.a.createElement(k.a.Item,{label:"Complemento",name:["endereco","complemento"],help:"Ex.: Quadra A, Lote 02"},c.a.createElement(v.a,{placeholder:"Complemento",style:{width:"100%"}}))))})),y=Object(n.memo)((function(e){var a=e.endereco,t=e.border,u=Object(n.useState)(!1),s=Object(d.a)(u,2),p=s[0],b=s[1];return c.a.createElement(r.a,{title:c.a.createElement(f,{title:"Endere\xe7o",buttonLabel:"Editar",buttonIcon:c.a.createElement(m.a,null),buttonAction:function(){return b(!0)}}),bordered:t},c.a.createElement(o.b,null,c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"bairro",a.bairro)),c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"cidade",null===a||void 0===a?void 0:a.cidade)),c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"estado",a.uf)),c.a.createElement(o.a,{span:12},c.a.createElement(l.a,null,"cep",Object(i.a)([a.cep,"cep"]))),c.a.createElement(o.a,{span:24},c.a.createElement(l.a,null,"logradouro",a.logradouro)),c.a.createElement(o.a,{span:24},c.a.createElement(l.a,null,"complemento",a.complemento))),c.a.createElement(C,{open:p,close:function(){return b(!1)}}))})),g=(t(136),t(39)),S=t(121),D=(t(915),t(117)),N=function(e,a){return e.filter((function(e){return!a.includes(e)})).concat(a.filter((function(a){return!e.includes(a)})))},F=Object(n.memo)((function(){var e=Object(n.useContext)(D.b).especialidades.todas,a=Object(n.useContext)(w.b),t=a.prestador,o=a.alternarEspecialidade,l=Object(n.useMemo)((function(){return t}),[t]).especialidades,i=Object(n.useMemo)((function(){return{especialidades:Object(S.a)(l).map((function(e){return e.id}))}}),[l]),u=Object(n.useState)(""),s=Object(d.a)(u,2),m=s[0],p=s[1],f=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a,t){var r,n,c,l,u,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.especialidades,n=void 0===r?[]:r,p("validating"),c=n,l=i.especialidades,u=N(l,c),!(s=Object(S.a)(u).pop())){e.next=22;break}return e.prev=7,e.next=10,o(s);case 10:p("success"),O.a.success("Lista de especialidades atualizada"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0),p("error"),O.a.error("Erro ao alterar lista de especialidades");case 19:return e.prev=19,setTimeout((function(){p("")}),5e3),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[7,14,19,22]])})));return function(a,t){return e.apply(this,arguments)}}(),[o,i.especialidades]);return c.a.createElement(r.a,{title:"Especialidades",bordered:!1},c.a.createElement(k.a,{initialValues:i,onValuesChange:f},c.a.createElement(k.a.Item,{name:"especialidades",hasFeedback:!0,validateStatus:m,validateTrigger:["onBlur","onChange"],help:c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,"ATEN\xc7\xc3O"),": alterar a lista de especialidades pode resultar em"," ",c.a.createElement("b",null,"cancelamento")," de consultas j\xe1 agendadas.")},c.a.createElement(g.a,{placeholder:"Buscar especialidaes",mode:"tags",style:{width:"100%"},tokenSeparators:[","],filterOption:function(e,a){var t;return(null===a||void 0===a||null===(t=a.children)||void 0===t?void 0:t.toLowerCase().indexOf(e.toLowerCase()))>=0}},e.map((function(e){var a=e.nome,t=e.id;return c.a.createElement(g.a.Option,{key:t,value:t},a)}))))))})),M=(t(137),t(50)),I=(t(916),t(842)),_=(t(298),t(111)),L=(t(787),t(788)),V=(t(917),t(138)),P=t.n(V),T=t(756),B=t(956),A=t(46),z=Object(n.memo)((function(e){var a=e.id,t=e.nome_completo,r=e.usuario,o=e.desvincularEspecialidade,l=e.alternarVinculoDoutorEspecialidade,i=e.loading,u=e.impedirEditEspecialidade,s=Object(n.useState)({}),m=Object(d.a)(s,2),f=m[0],b=m[1],v=Object(n.useState)(""),h=Object(d.a)(v,2),x=h[0],w=h[1],C=Object(n.useMemo)((function(){return{especialidades:Object(S.a)(f.especialidades||[]).map((function(e){return e.id}))}}),[f]),y=Object(n.useState)(!1),F=Object(d.a)(y,2),M=F[0],I=F[1],V=Object(n.useContext)(D.b).especialidades,z=Object(A.a)();Object(n.useEffect)((function(){M&&function(){var e=Object(j.a)(E.a.mark((function e(){var a,t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("/doutor/".concat(r,"/"));case 3:a=e.sent,t=a.data,b(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b({});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[z,M,r]);var Y=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){var t,r,n,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.especialidades,r=void 0===t?[]:t,n=C.especialidades,c=N(n,r),!(o=Object(S.a)(c).pop())){e.next=22;break}return w("validating"),e.prev=7,e.next=10,l(f.id,o);case 10:w("success"),O.a.success("Lista de especialidades de ".concat(f.usuario.nome_completo," atualizada")),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0),w("error"),O.a.error("Erro ao alterar lista de especialidades de "+f.usuario.nome_completo);case 19:return e.prev=19,setTimeout((function(){w("")}),5e3),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[7,14,19,22]])})));return function(a){return e.apply(this,arguments)}}(),[C,f,l]);return c.a.createElement(_.a,{onChange:function(){return I((function(e){return!e}))},style:{margin:"8px 0"}},c.a.createElement(_.a.Panel,{header:c.a.createElement(P.a,{ellipsis:{rows:1},style:{margin:"unset"}},t),key:a},f.usuario&&c.a.createElement(k.a,{layout:"vertical",initialValues:C,onValuesChange:Y},c.a.createElement(k.a.Item,{name:"especialidades",label:"Especialidades Atendidas",hasFeedback:!0,validateStatus:x,validateTrigger:["onBlur","onChange"]},c.a.createElement(g.a,{disabled:u,placeholder:"Buscar especialidades",mode:"tags",style:{width:"100%"},tokenSeparators:[","],filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},V.todas.map((function(e){var a=e.nome,t=e.id;return c.a.createElement(g.a.Option,{key:t,value:t},a)})))),c.a.createElement(L.a,{placement:"bottomLeft",title:c.a.createElement(c.a.Fragment,null,"Tem certeza que deseja desvincular ",c.a.createElement("b",null,t),"?"),onConfirm:function(){return o(a)},okText:"Sim, tenho certeza",cancelText:"N\xe3o"},c.a.createElement(p.a,{disabled:i,danger:!0,type:"primary",icon:i?c.a.createElement(T.a,null):c.a.createElement(B.a,null),title:"desvincular esta especialidade"},"Desvincular")))))})),Y=t(6),q=t(57),R=(t(918),t(247),t(83)),J=(t(151),t(80)),U=(t(919),t(87)),G=t(310),H=[{required:!0,message:"Este campo \xe9 obrigat\xf3rio!"}],Q=function(e){var a=e.form,t=e.handleSubmit;return c.a.createElement(k.a,{layout:"vertical",form:a,onFinish:t},c.a.createElement(k.a.Item,{name:["usuario","nome_completo"],label:"Nome completo",rules:H},c.a.createElement(v.a,{required:!0,placeholder:"Nome completo"})),c.a.createElement(k.a.Item,{name:["usuario","aniversario"],label:"Data de nascimento",rules:H},c.a.createElement(J.a,{placeholder:"Data de nascimento",style:{width:"100%"},locale:U.a,format:"DD/MM/Y"})),c.a.createElement(k.a.Item,{name:["usuario","genero"],label:"Sexo",rules:H},c.a.createElement(R.default.Group,{buttonStyle:"solid"},c.a.createElement(R.default.Button,{value:"m"},"Masculino"),c.a.createElement(R.default.Button,{value:"f"},"Feminino"))),c.a.createElement(k.a.Item,{name:["usuario","cpf"],label:"CPF",rules:H},c.a.createElement(v.a,{required:!0,placeholder:"CPF"})),c.a.createElement(k.a.Item,{name:["usuario","telefone"],label:"Telefone",rules:H},c.a.createElement(v.a,{placeholder:"Telefone"})),c.a.createElement(k.a.Item,{name:["usuario","email"],label:"E-mail",rules:H},c.a.createElement(v.a,{required:!0,placeholder:"E-mail"})),c.a.createElement(k.a.Item,{name:"numero_crm",label:"N\xfamero do CRM",rules:H},c.a.createElement(v.a,{required:!0,placeholder:"N\xfamero do CRM"})),c.a.createElement(k.a.Item,{name:"uf_crm",label:"UF CRM",rules:H},c.a.createElement(g.a,{placeholder:"UF CRM",allowClear:!0},G.a.map((function(e,a){var t=e.nome,r=e.sigla;return c.a.createElement(g.a.Option,{key:a,value:r},t)})))))},K=Object(n.memo)((function(e){var a=e.open,t=e.close,r=Object(n.useContext)(w.b),o=r.criarDoutor,l=r.buscarDoutor,i=r.alternarDoutor,u=r.prestador,s=Object(n.useState)([]),m=Object(d.a)(s,2),f=m[0],v=m[1],h=Object(n.useState)(),x=Object(d.a)(h,2),C=x[0],y=x[1],S=Object(n.useState)(),D=Object(d.a)(S,2),N=D[0],F=D[1],M=k.a.useForm(),I=Object(d.a)(M,1)[0],_=Object(n.useState)(),L=Object(d.a)(_,2),V=L[0],P=L[1],T=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.usuario,n=Object(q.a)(a,["usuario"]),r.aniversario=r.aniversario.format("DD/MM/Y"),r.cpf=r.cpf.replace(/[.]/g,"").replace(/[-]/g,""),r.password=r.cpf,e.prev=4,e.next=7,o(Object(Y.a)({usuario:r},n));case 7:O.a.success("Doutor cadastrada com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),O.a.error("Ocorreu um erro ao cadastrar o doutor.");case 13:return e.prev=13,t(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,10,13,16]])})));return function(a){return e.apply(this,arguments)}}(),[o,t]),B=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){var t,r,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){v([]),P("nao_encontrado")},!(a.length>2)){e.next=17;break}return P("buscando"),e.prev=3,e.next=6,l(isNaN(+a)?{nome:a}:{cpf:a});case 6:r=e.sent,n=r.results,(c=n).length>0?(v(c.filter((function(e){var a=e.id;return void 0===(null===u||void 0===u?void 0:u.secretarias.find((function(e){var t=e.id;return a===t})))}))),P(void 0)):t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t();case 15:e.next=18;break;case 17:t();case 18:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}(),[l,u]),A=Object(n.useCallback)(Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=15;break}return e.prev=1,e.next=4,i(N);case 4:O.a.success("Doutor vinculado com sucesso!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O.a.error("Ocorreu um erro ao vincular o doutor.");case 10:return e.prev=10,t(),e.finish(10);case 13:e.next=16;break;case 15:I.submit();case 16:case"end":return e.stop()}}),e,null,[[1,7,10,13]])}))),[i,t,I,N]),z=Object(n.useCallback)((function(){y(void 0),I.resetFields(),v([]),P(void 0),F(void 0),t()}),[t,I]),R=Object(n.useCallback)((function(){y(c.a.createElement(Q,{form:I,handleSubmit:T}))}),[I,T]);return c.a.createElement(b.a,{key:"modal-vincular-doutor",title:"Vincular Novo M\xe9dico",visible:a,onCancel:z,centered:!0,footer:c.a.createElement("section",{className:"modal-vincular-doutor-footer"},c.a.createElement(p.a,{type:"default",disabled:void 0!==C||void 0!==N,onClick:R},"Cadastrar Manualmente"),c.a.createElement("div",null,c.a.createElement(p.a,{type:"link",onClick:z},"Cancelar"),c.a.createElement(p.a,{disabled:void 0===C&&void 0===N,type:"primary",onClick:A},"Confirmar")))},C||c.a.createElement(g.a,{showSearch:!0,allowClear:!0,showArrow:!1,loading:"buscando"===V,placeholder:"Buscar por nome ou CPF",optionFilterProp:"children",style:{width:"100%",marginBottom:16},onSearch:B,onSelect:function(e){return F("".concat(e))},onChange:function(e){return void 0===e&&F(void 0)},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},f.map((function(e){var a=e.nome_completo,t=e.id;return c.a.createElement(g.a.Option,{key:t,value:t},a)}))))})),W=function(e){var a=e.impedirEditEspecialidade,t=Object(n.useState)(!1),o=Object(d.a)(t,2),l=o[0],i=o[1],u=Object(n.useState)(!1),s=Object(d.a)(u,2),m=s[0],p=s[1],b=Object(n.useContext)(w.b),v=b.prestador,h=b.alternarDoutor,k=b.alternarVinculoDoutorEspecialidade,x=v.doutores,C=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,h(a);case 4:O.a.success("Secret\xe1ria desvinculada com sucesso!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O.a.error("Ocorreu um erro ao desvincular a secret\xe1ria.");case 10:return e.prev=10,p(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(a){return e.apply(this,arguments)}}(),[h]);return c.a.createElement(r.a,{title:c.a.createElement(f,{title:"M\xe9dicos",buttonLabel:"Adicionar",buttonIcon:c.a.createElement(I.a,null),buttonAction:function(){return i(!0)}}),style:{maxHeight:"50vh",overflowY:"auto"},bordered:!1},x&&x.length>0?c.a.createElement("div",{className:"medicos-associados"},x.map((function(e){return c.a.createElement(z,Object.assign({impedirEditEspecialidade:a,key:e.id},e,{desvincularEspecialidade:C,loading:m,alternarVinculoDoutorEspecialidade:k}))}))):c.a.createElement(M.a,{description:"Nenhum m\xe9dico ainda"}),c.a.createElement(K,{open:l,close:function(){return i(!1)}}))},X=(t(920),t(921),t(922),t(30)),Z=t.n(X),$=[{required:!0,message:"Este campo \xe9 obrigat\xf3rio!"}],ee=function(e){var a=e.form,t=e.handleSubmit;return c.a.createElement(k.a,{layout:"vertical",form:a,onFinish:t},c.a.createElement(k.a.Item,{label:"Nome completo",name:["usuario","nome_completo"],rules:$},c.a.createElement(v.a,{placeholder:"Nome completo",style:{width:"100%"}})),c.a.createElement(o.b,null,c.a.createElement(o.a,{span:12},c.a.createElement(k.a.Item,{label:"CPF",name:["usuario","cpf"],rules:$},c.a.createElement(x.b,{mask:"111.111.111-11",placeholder:"CPF",style:{width:"100%"}}))),c.a.createElement(o.a,{span:12},c.a.createElement(k.a.Item,{label:"Sexo",name:["usuario","genero"],rules:$},c.a.createElement(R.default.Group,{buttonStyle:"solid"},c.a.createElement(R.default.Button,{value:"m"},"Masculino"),c.a.createElement(R.default.Button,{value:"f"},"Feminino"))))),c.a.createElement(k.a.Item,{label:"E-mail",name:["usuario","email"],rules:$},c.a.createElement(v.a,{placeholder:"E-mail",type:"email",style:{width:"100%"}})),c.a.createElement(k.a.Item,{label:"Telefone",name:["usuario","telefone"]},c.a.createElement(v.a,{placeholder:"Telefone",type:"tel",style:{width:"100%"}})),c.a.createElement(k.a.Item,{name:["usuario","aniversario"],label:"Data de Nascimento",rules:$},c.a.createElement(J.a,{placeholder:"Data de Nascimento",locale:U.a,format:"DD/MM/YYYY",disabledDate:function(e){return e.isAfter(Z()().subtract("day",2))},style:{width:"100%"}})))},ae=Object(n.memo)((function(e){var a=e.open,t=e.close,r=Object(n.useContext)(w.b),o=r.criarSecretaria,l=r.buscarSecretaria,i=r.alternarSecretaria,u=r.prestador,s=Object(n.useState)([]),m=Object(d.a)(s,2),f=m[0],v=m[1],h=Object(n.useState)(),x=Object(d.a)(h,2),C=x[0],y=x[1],S=Object(n.useState)(),D=Object(d.a)(S,2),N=D[0],F=D[1],M=k.a.useForm(),I=Object(d.a)(M,1)[0],_=Object(n.useState)(),L=Object(d.a)(_,2),V=L[0],P=L[1],T=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=a.usuario).aniversario=r.aniversario.format("DD/MM/Y"),r.cpf=r.cpf.replace(/[.]/g,"").replace(/[-]/g,""),r.password=r.cpf,e.prev=4,e.next=7,o({usuario:r});case 7:O.a.success("Secret\xe1ria cadastrada com sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),O.a.error("Ocorreu um erro ao cadastrar a secret\xe1ria.");case 13:return e.prev=13,t(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,10,13,16]])})));return function(a){return e.apply(this,arguments)}}(),[o,t]),B=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){var t,r,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){v([]),P("nao_encontrado")},!(a.length>2)){e.next=17;break}return P("buscando"),e.prev=3,e.next=6,l(isNaN(+a)?{nome:a}:{cpf:a});case 6:r=e.sent,n=r.results,(c=n).length>0?(v(c.filter((function(e){var a=e.id;return void 0===(null===u||void 0===u?void 0:u.secretarias.find((function(e){var t=e.id;return a===t})))}))),P(void 0)):t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t();case 15:e.next=18;break;case 17:t();case 18:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}(),[l,u]),A=Object(n.useCallback)(Object(j.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=15;break}return e.prev=1,e.next=4,i(N);case 4:O.a.success("Secret\xe1ria vinculada com sucesso!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O.a.error("Ocorreu um erro ao vincular a secret\xe1ria.");case 10:return e.prev=10,t(),e.finish(10);case 13:e.next=16;break;case 15:I.submit();case 16:case"end":return e.stop()}}),e,null,[[1,7,10,13]])}))),[i,t,I,N]),z=Object(n.useCallback)((function(){y(void 0),I.resetFields(),v([]),P(void 0),F(void 0),t()}),[t,I]),Y=Object(n.useCallback)((function(){y(c.a.createElement(ee,{form:I,handleSubmit:T}))}),[I,T]);return c.a.createElement(b.a,{key:"modal-vincular-secretaria",title:"Vincular Nova Secret\xe1ria",visible:a,onCancel:z,centered:!0,footer:c.a.createElement("section",{className:"modal-vincular-secretaria-footer"},c.a.createElement(p.a,{type:"default",disabled:void 0!==C||void 0!==N,onClick:Y},"Cadastrar Manualmente"),c.a.createElement("div",null,c.a.createElement(p.a,{type:"link",onClick:z},"Cancelar"),c.a.createElement(p.a,{disabled:void 0===C&&void 0===N,type:"primary",onClick:A},"Confirmar")))},C||c.a.createElement(g.a,{showSearch:!0,allowClear:!0,showArrow:!1,loading:"buscando"===V,placeholder:"Buscar por nome ou CPF",optionFilterProp:"children",style:{width:"100%",marginBottom:16},onSearch:B,onSelect:function(e){return F("".concat(e))},onChange:function(e){return void 0===e&&F(void 0)},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},f.map((function(e){var a=e.nome_completo,t=e.id;return c.a.createElement(g.a.Option,{key:t,value:t},a)}))))})),te=(t(923),Object(n.memo)((function(e){var a=e.id,t=e.nome_completo,r=e.prestador,o=e.desvincularSecretaria,l=e.alternarVinculoSecretariaDoutor,i=e.loading,u=Object(n.useState)({}),s=Object(d.a)(u,2),m=s[0],f=s[1],b=Object(n.useState)(""),v=Object(d.a)(b,2),h=v[0],x=v[1],w=Object(n.useMemo)((function(){return{doutores:Object(S.a)(m.doutores||[]).map((function(e){return e.id}))}}),[m]),C=Object(n.useState)(!1),y=Object(d.a)(C,2),D=y[0],F=y[1],M=Object(A.a)();Object(n.useEffect)((function(){D&&function(){var e=Object(j.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.get("/secretaria/".concat(a,"/"));case 3:t=e.sent,r=t.data,f(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f({});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[M,D,a]);var I=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){var t,r,n,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.doutores,r=void 0===t?[]:t,n=w.doutores,c=N(n,r),!(o=Object(S.a)(c).pop())){e.next=22;break}return x("validating"),e.prev=7,e.next=10,l(m.usuario.id,o);case 10:x("success"),O.a.success("Lista de doutores de ".concat(m.usuario.nome_completo," atualizada")),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0),x("error"),O.a.error("Erro ao alterar lista de doutores de "+m.usuario.nome_completo);case 19:return e.prev=19,setTimeout((function(){x("")}),5e3),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[7,14,19,22]])})));return function(a){return e.apply(this,arguments)}}(),[w,m.usuario,l]);return c.a.createElement(_.a,{onChange:function(){return F((function(e){return!e}))},style:{margin:"8px 0"}},c.a.createElement(_.a.Panel,{header:c.a.createElement(P.a,{ellipsis:{rows:1},style:{margin:"unset"}},t),key:a},m.usuario&&c.a.createElement(k.a,{layout:"vertical",initialValues:w,onValuesChange:I},c.a.createElement(k.a.Item,{name:"doutores",label:"Doutores acessorados",hasFeedback:!0,validateStatus:h,validateTrigger:["onBlur","onChange"]},c.a.createElement(g.a,{placeholder:"Buscar doutores",mode:"tags",style:{width:"100%"},tokenSeparators:[","],filterOption:function(e,a){var t;return(null===a||void 0===a||null===(t=a.children)||void 0===t?void 0:t.toLowerCase().indexOf(e.toLowerCase()))>=0}},r.doutores.map((function(e){var a=e.nome_completo,t=e.id;return c.a.createElement(g.a.Option,{key:t,value:t},a)})))),c.a.createElement(L.a,{placement:"bottomLeft",title:c.a.createElement(c.a.Fragment,null,"Tem certeza que deseja desvincular ",c.a.createElement("b",null,t),"?"),onConfirm:function(){return o(a)},okText:"Sim, tenho certeza",cancelText:"N\xe3o"},c.a.createElement(p.a,{disabled:i,danger:!0,type:"primary",icon:i?c.a.createElement(T.a,null):c.a.createElement(B.a,null),title:"desvincular esta secret\xe1ria"},"Desvincular")))))}))),re=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(d.a)(l,2),u=i[0],s=i[1],m=Object(n.useContext)(w.b),p=m.prestador,b=m.alternarSecretaria,v=m.alternarVinculoSecretariaDoutor,h=p.secretarias,k=Object(n.useCallback)(function(){var e=Object(j.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,b(a);case 4:O.a.success("Secret\xe1ria desvinculada com sucesso!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O.a.error("Ocorreu um erro ao desvincular a secret\xe1ria.");case 10:return e.prev=10,s(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(a){return e.apply(this,arguments)}}(),[b]);return c.a.createElement(r.a,{title:c.a.createElement(f,{title:"Secret\xe1rias",buttonLabel:"Adicionar",buttonIcon:c.a.createElement(I.a,null),buttonAction:function(){return o(!0)}}),style:{maxHeight:"50vh",overflowY:"auto"},bordered:!1},h&&h.length>0?c.a.createElement("div",{className:"secretarias-associadas"},h.map((function(e){return c.a.createElement(te,Object.assign({key:e.id},e,{prestador:p,desvincularSecretaria:k,loading:u,alternarVinculoSecretariaDoutor:v}))}))):c.a.createElement(M.a,{description:"Nenhuma secret\xe1ria ainda"}),c.a.createElement(ae,{open:t,close:function(){return o(!1)}}))};a.a={DadosPJCard:s,EnderecoCard:y,EspecialidadesCard:F,DoutoresCard:W,SecretariasCard:re}},807:function(e,a,t){},816:function(e,a,t){},841:function(e,a,t){"use strict";a.a={c:"Cl\xednica",m:"M\xe9dico(a) Independente"}},911:function(e,a,t){},912:function(e,a,t){},913:function(e,a,t){},914:function(e,a,t){},915:function(e,a,t){},916:function(e,a,t){},917:function(e,a,t){},918:function(e,a,t){},919:function(e,a,t){},920:function(e,a,t){},921:function(e,a,t){},922:function(e,a,t){},923:function(e,a,t){}}]);
(this["webpackJsonpomnisaude-operadora"]=this["webpackJsonpomnisaude-operadora"]||[]).push([[12],{782:function(e,a,t){"use strict";var n=t(804);a.a=function(e){var a=e.split("/");return Object(n.a)(a).slice(1).map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)}(e)}))}},786:function(e,a,t){"use strict";t.d(a,"a",(function(){return u}));var n=t(0),c=t.n(n),l=(t(817),t(45)),r=t(116),o=t(44),i=t(782),m=t(796),s=t(34),u=function(e){var a=e.children,t=Object(l.k)().path,u=Object(n.useContext)(r.b),p=u.currentRoute,d=u.setCurrentRoute,E=Object(n.useMemo)((function(){return Object(i.a)(p).join(" | ")}),[p]);return Object(o.a)((function(){d(t)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("title",null,s.g," | ",E)),a)}},817:function(e,a,t){},820:function(e,a,t){},821:function(e,a,t){},823:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));t(793);var n=t(803),c=(t(818),t(822)),l=t(0),r=t.n(l),o=(t(820),t(295)),i=t(301),m=(t(296),t(88)),s=(t(821),t(776)),u=t(45),p=t(116),d=function(e){var a=e.config,t=Object(u.h)(),n=Object(p.c)(),c=Object(l.useCallback)((function(e){t.push(e)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{mode:"inline",defaultSelectedKeys:[n],style:{height:"calc(100% - 48px)"}},a.map((function(e){var a=e.icon,t=e.label,n=e.rota;return r.a.createElement(m.a.Item,{key:n,icon:r.a.createElement(a,null),onClick:function(){c("".concat(n))}},t)}))),r.a.createElement(m.a,null,r.a.createElement(m.a.Item,{style:{color:"var(--danger-color)"},key:"/paciente/logout",icon:r.a.createElement(s.a,null),onClick:function(){localStorage.clear(),window.location.reload()}},"Sair")))},E=t(782),f=Object(o.a)(),b=function(e){var a=e.children,t=e.config,o=Object(p.c)(),m=Object(l.useMemo)((function(){return Object(E.a)(o)}),[o]);return r.a.createElement("main",{className:"paciente-container"},r.a.createElement(c.a,{style:{height:"100%"}},r.a.createElement(c.a.Header,{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement(i.a,{size:200}))),r.a.createElement(c.a.Content,{style:{padding:"0 50px"}},r.a.createElement(n.a,{style:{margin:"16px 0"}},m.map((function(e){return r.a.createElement(n.a.Item,{key:e},e)}))),r.a.createElement(c.a,{className:"site-layout-background",style:{padding:"24px 0"}},r.a.createElement(c.a.Sider,{width:250},r.a.createElement(d,{config:t})),r.a.createElement(c.a.Content,{style:{padding:"0 24px",minHeight:280}},a))),r.a.createElement(c.a.Footer,{style:{textAlign:"center"}},"Copyright ",f)))}},929:function(e,a,t){},932:function(e,a,t){},936:function(e,a,t){},962:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return G}));var n=t(0),c=t.n(n),l=t(45),r=t(154),o=(t(929),t(786)),i=function(){return c.a.createElement(o.a,null,"ConsultasPage")},m=(t(399),t(278)),s=(t(930),t(958)),u=(t(136),t(39)),p=(t(151),t(80)),d=(t(291),t(106)),E=(t(292),t(65)),f=(t(92),t(24)),b=(t(297),t(197)),g=(t(35),t(8)),h=(t(71),t(7)),O=t(3),j=(t(932),t(971)),v=t(762),y=["A+","A-","B+","B-","AB+","AB-","O+","O-"],C=t(367),k=t(194),P=t.n(k),x=t(53),I=t(9),N=t.n(I),w=t(13),M=t(64),S=t(44),A=t(46),F=Object(n.createContext)({}),_=function(e){var a=e.children,t=e.usuId,l=Object(M.a)("paciente",{}),r=Object(O.a)(l,2),o=r[0],i=r[1],m=Object(n.useState)(!1),s=Object(O.a)(m,2),u=s[0],p=s[1],d=Object(A.a)(),E=Object(x.d)(),f=Object(n.useCallback)(Object(w.a)(N.a.mark((function e(){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/paciente/".concat(t));case 3:return a=e.sent,n=a.data,console.log("paciente",n),i(n),e.next=9,E();case 9:return e.abrupt("return");case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])}))),[d,E,i,t]),b=Object(n.useCallback)((function(e){var a=e.telefone,n=e.genero,c=e.nome_completo,l=e.cor,r=e.altura,o=e.peso,i=e.tipo_sanguineo;p(!0),d.patch("/paciente/".concat(t,"/"),{usuario:{telefone:a,genero:n,nome_completo:c},cor:l,altura:r,peso:o,tipo_sanguineo:i}).then((function(){return f().finally((function(){return p(!1)}))})).catch((function(e){console.error("atualizar:paciente",e),p(!1)}))}),[d,t,f]);return Object(S.a)((function(){o.id||f()})),c.a.createElement(F.Provider,{value:{paciente:o,loading:u,setLoading:p,atualizarPerfil:b}},a)},T=F,z=t(30),D=t.n(z),B=t(47),Y=t(34),J={lg:12,md:24},U=function(){var e=Object(n.useState)(!1),a=Object(O.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(),i=Object(O.a)(r,1)[0],k=h.a.useForm(),I=Object(O.a)(k,1)[0],N=Object(n.useContext)(x.b).user,w=Object(n.useContext)(T),M=w.paciente,S=w.loading,A=w.atualizarPerfil,F=localStorage.getItem("token");Object(n.useEffect)((function(){M&&l(!1)}),[M]);var _=Object(n.useMemo)((function(){return{cpf:N.cpf,email:N.email,telefone:N.telefone,genero:N.genero,nome_completo:N.nome_completo,aniversario:D()(N.aniversario),cor:M.cor,altura:M.altura,peso:M.peso,tipo_sanguineo:M.tipo_sanguineo}}),[N,M]),z=Object(n.useCallback)(I.submit,[I]),U=Object(n.useCallback)((function(){I.resetFields(),I.setFieldsValue(_),l(!1)}),[I,_]);return c.a.createElement(o.a,null,c.a.createElement(B.a,{loading:S}),c.a.createElement("article",{className:"form-actions ".concat(t?"":"hidden")},c.a.createElement(g.a,{id:"aply",type:"primary",shape:"circle",title:"Salvar Altera\xe7\xf5es",size:"large",icon:c.a.createElement(j.a,null),onClick:z}),c.a.createElement(g.a,{id:"cancel",type:"primary",shape:"circle",title:"Descartar Altera\xe7\xf5es",size:"large",danger:!0,icon:c.a.createElement(v.a,null),onClick:U})),c.a.createElement(d.a,{gutter:24},c.a.createElement(E.a,{lg:16,md:24},c.a.createElement(h.a,{id:"perfil-paciente-form",layout:"vertical",form:I,initialValues:_,onFinish:A,onChange:function(){return l(!0)}},c.a.createElement("section",{className:"perfil-paciente",id:"dados-pessoais"},c.a.createElement(b.a,{orientation:"left"},c.a.createElement(P.a,{type:"secondary"},"Dados Pessoais")),c.a.createElement(d.a,{gutter:24},c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"nome_completo",label:"Nome Completo"},c.a.createElement(f.a,{placeholder:"Nome Completo"}))),c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"cpf",label:"CPF",className:"disabled"},c.a.createElement(f.a,{placeholder:"CPF",disabled:!0,title:"Este campo n\xe3o pode ser editado"})))),c.a.createElement(d.a,{gutter:24},c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"email",label:"E-mail",className:"disabled"},c.a.createElement(f.a,{placeholder:"E-mail",disabled:!0,title:"Este campo n\xe3o pode ser editado"}))),c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"telefone",label:"Telefone"},c.a.createElement(f.a,{placeholder:"Telefone"})))),c.a.createElement(d.a,{gutter:24},c.a.createElement(E.a,Object.assign({},J,{title:"Este campo n\xe3o pode ser editado"}),c.a.createElement(h.a.Item,{name:"aniversario",label:"Data de Nascimento",className:"disabled"},c.a.createElement(p.a,{disabled:!0,placeholder:"Data de Nascimento",format:"DD/MM/YYYY",style:{width:"100%"}}))),c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"genero",label:"Sexo"},c.a.createElement(u.a,{placeholder:"Sexo"},c.a.createElement(u.a.Option,{value:"f"},"Feminino"),c.a.createElement(u.a.Option,{value:"m"},"Masculino")))))),c.a.createElement("section",{className:"perfil-paciente",id:"dados-clinicos"},c.a.createElement(b.a,{orientation:"left"},c.a.createElement(P.a,{type:"secondary"},"Dados Cl\xednicos")),c.a.createElement(d.a,{gutter:24},c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"peso",label:"Peso"},c.a.createElement(s.a,{style:{width:"100%"},placeholder:"Peso"}))),c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"altura",label:"Altura"},c.a.createElement(s.a,{style:{width:"100%"},placeholder:"Altura"})))),c.a.createElement(d.a,{gutter:24},c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"tipo_sanguineo",label:"Tipo Sangu\xedneo"},c.a.createElement(u.a,{placeholder:"Tipo Sangu\xedneo"},y.map((function(e){return c.a.createElement(u.a.Option,{key:e,value:e},e)}))))),c.a.createElement(E.a,J,c.a.createElement(h.a.Item,{name:"cor",label:"Etnia"},c.a.createElement(u.a,{placeholder:"Etnia"},Object.entries(C.a).map((function(e){var a=Object(O.a)(e,2),t=a[0],n=a[1];return c.a.createElement(u.a.Option,{key:t,value:t},n)}))))))))),c.a.createElement(E.a,{lg:8,md:24},c.a.createElement(m.a,{listType:"picture-card",showUploadList:!1,accept:"image/*",method:"PUT",action:"".concat(Y.b,"/imagem/").concat(N.id,"/"),headers:{Authorization:"JWT ".concat(F),"Content-Type":"multipart/form-data"}},c.a.createElement("img",{src:N.imagem||i||Y.e,alt:"avatar",style:{width:"100%"}})))))},V=(t(936),{ConsultasPage:i,PerfilPage:U,MedicamentosPage:function(){return c.a.createElement(o.a,null,"MedicamentosPage")},BoasVindasPage:t(952).default}),H=t(823),L=t(772),R=t(760),K=t(957),W=[{rota:"/paciente/perfil",label:"Meu Perfil",icon:L.a},{rota:"/paciente/consultas",label:"Minhas Consultas",icon:R.a},{rota:"/paciente/medicamentos",label:"Meus Medicamentos",icon:K.a}],q=function(){return c.a.createElement(l.b,{to:"/paciente/consultas"})},G=function(){var e=Object(x.c)().id,a=Object(l.k)().path;return c.a.createElement(_,{usuId:e},c.a.createElement(H.a,{config:W},c.a.createElement(l.e,null,c.a.createElement(r.a,{exact:!0,path:"".concat(a,"/"),component:q}),c.a.createElement(r.a,{path:"".concat(a,"/perfil"),component:V.PerfilPage}),c.a.createElement(r.a,{path:"".concat(a,"/medicamentos"),component:V.MedicamentosPage}),c.a.createElement(r.a,{path:"".concat(a,"/consultas"),component:V.ConsultasPage}))))}}}]);
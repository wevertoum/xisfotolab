(this["webpackJsonpomnisaude-operadora"]=this["webpackJsonpomnisaude-operadora"]||[]).push([[9],{779:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var n=t(57),r=t(0),c=t.n(r),o=(t(792),t(793),t(803)),l=t(3),i=(t(794),t(36)),s=function(e){var a=e.title,t=e.subtitle,n=e.path,s=Object(r.useState)([]),u=Object(l.a)(s,2),m=u[0],d=u[1];return Object(r.useEffect)((function(){a instanceof Array&&a.length>0&&n&&d(a.map((function(e,a){return c.a.createElement(i.b,{key:a,to:n[a]},c.a.createElement(o.a.Item,null,e))})))}),[a,n]),c.a.createElement("div",{className:"menu-wrapper"},c.a.createElement("section",{className:"menu-title"},m&&0!==(null===m||void 0===m?void 0:m.length)&&n?c.a.createElement("div",{className:"breadcrumb-container"},c.a.createElement(o.a,null,m)):c.a.createElement("div",{id:"title"},a),t&&c.a.createElement("div",{id:"subtitle"},t)))},u=t(295),m=(t(795),Object(u.a)()),d=Object(r.memo)((function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"footer"},"Copyright ",m))})),p=t(45),f=t(116),v=t(782),b=t(44),E=t(796),h=t(34),g=function(e){var a=e.children,t=Object(n.a)(e,["children"]),o=Object(p.k)().path,l=Object(r.useContext)(f.b),i=l.currentRoute,u=l.setCurrentRoute,m=Object(r.useMemo)((function(){return Object(v.a)(i).join(" | ")}),[i]);return Object(b.a)((function(){u(o)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,null,c.a.createElement("title",null,h.g," | ",m)),c.a.createElement("div",{className:"page-container"},c.a.createElement("section",{className:"menu-wrapper"},c.a.createElement(s,t)),c.a.createElement("section",{className:"page-wrapper"},a)),c.a.createElement(d,null))}},782:function(e,a,t){"use strict";var n=t(804);a.a=function(e){var a=e.split("/");return Object(n.a)(a).slice(1).map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)}(e)}))}},791:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));t(152);var n=t(59),r=t(3),c=t(57),o=t(0),l=t.n(o),i=(t(816),Object(o.memo)((function(e){var a=e.children,t=e.skipBold,i=void 0!==t&&t,s=Object(c.a)(e,["children","skipBold"]),u=Object(o.useMemo)((function(){return a}),[a]),m=Object(r.a)(u,2),d=m[0],p=m[1],f=Object(o.useMemo)((function(){return p instanceof Array}),[p]);return p?l.a.createElement("article",Object.assign({},s,{className:"omni-text-display ".concat(s.className)}),l.a.createElement("p",{className:"omni-text-display-label"},d),f?p.map((function(e,a){return l.a.createElement(n.a,{key:a,style:{color:"var(--primary-color)",margin:"2px"}},e)})):l.a.createElement("p",{className:"omni-text-display-value".concat(i?"-no-bold":"")},p)):l.a.createElement(l.a.Fragment,null)})))},792:function(e,a,t){},794:function(e,a,t){},795:function(e,a,t){},800:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=(t(801),t(302)),o=t(116);a.a=function(e){var a=e.children,t=Object(n.useContext)(c.b).setScroll,l=Object(o.d)();return r.a.createElement("div",{className:"main-container"},r.a.createElement("aside",{className:"nav-container"},l),r.a.createElement("main",{className:"main-content-wrapper custom-scrollbar",id:"scroll-zone",onScrollCapture:function(e){var a,n,r,c;"scroll-zone"===(null===e||void 0===e||null===(a=e.nativeEvent)||void 0===a||null===(n=a.target)||void 0===n?void 0:n.id)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e>=0&&e<100&&t(e)}(null===e||void 0===e||null===(r=e.nativeEvent)||void 0===r||null===(c=r.target)||void 0===c?void 0:c.scrollTop)}},a))}},801:function(e,a,t){},808:function(e,a,t){},813:function(e,a,t){"use strict";t(38),t(814)},814:function(e,a,t){},815:function(e,a,t){},816:function(e,a,t){},824:function(e,a,t){"use strict";t.d(a,"a",(function(){return F}));t(68);var n=t(37),r=(t(136),t(39)),c=(t(151),t(80)),o=(t(293),t(212)),l=t(6),i=(t(35),t(8)),s=t(9),u=t.n(s),m=(t(90),t(28)),d=t(13),p=(t(71),t(7)),f=t(3),v=t(57),b=t(0),E=t.n(b),h=(t(808),t(760)),g=t(763),O=t(138),j=t.n(O),x=t(306),C=t(30),y=t.n(C),N=t(49),k=t(215),w=t(398),S=t.n(w),D=t(194),M=t.n(D),_=t(53),A=t(54),P=t(294),F=Object(b.memo)((function(e){var a=e.id,t=e.status,s=e.data_inicio,O=e.nome_paciente,C=e.consulta_antiga,w=e.especialidade,D=Object(v.a)(e,["id","status","data_inicio","nome_paciente","consulta_antiga","especialidade"]),F=Object(b.useState)(""),I=Object(f.a)(F,2),q=I[0],R=I[1],z=Object(b.useState)(!1),T=Object(f.a)(z,2),H=T[0],Y=T[1],L=p.a.useForm(),B=Object(f.a)(L,1)[0],V=Object(b.useState)(""),W=Object(f.a)(V,2),J=W[0],K=W[1],U=Object(b.useState)(""),G=Object(f.a)(U,2),Q=G[0],X=G[1],Z=Object(_.c)(),$=Z.token,ee=Z.id,ae=Object(b.useState)([]),te=Object(f.a)(ae,2),ne=te[0],re=te[1],ce=(Object(b.useContext)(P.c)||{}).doutorSelecionado,oe=Object(b.useContext)(N.c),le=oe.setConsultaSelecionada,ie=oe.confimarAgendamento,se=oe.cancelarConsulta,ue=oe.verModal,me=oe.setVerModal,de=oe.reagendar,pe=Object(b.useMemo)((function(){return ce?ce.usuario.id:ee}),[ce,ee]),fe=function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q.toLowerCase().includes("reagendar")){e.next=16;break}return t=a.date,n=a.time.split(":"),r=Object(f.a)(n,2),c=r[0],o=r[1],e.prev=3,e.next=6,de(Q,"".concat(t.format("DD/MM/Y")," ").concat(c,":").concat(o));case 6:m.a.success("Hor\xe1rio alterado com sucesso!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),m.a.error("Erro ao tentar remarcar a consulta");case 12:return e.prev=12,R(""),B.resetFields(),e.finish(12);case 16:R(""),B.resetFields();case 18:case"end":return e.stop()}}),e,null,[[3,9,12,16]])})));return function(a){return e.apply(this,arguments)}}(),ve=Object(b.useMemo)((function(){return{Authorization:"JWT ".concat($)}}),[$]),be=function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/agenda-doutor/".concat(pe,"/"),{headers:ve,params:{especialidade:null===w||void 0===w?void 0:w.nome,data:a}});case 3:t=e.sent,n=t.data,re(n),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),console.error("pacientes",e.t0),m.a.warning("Sem hor\xe1rios dispon\xedveis para ".concat(a,", escolha outro dia")),re([]),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"consulta-item-wrapper"},E.a.createElement("div",{className:"consulta-item"},E.a.createElement("div",{className:"consulta-item-data ".concat(t),id:"status"},"x"===t&&null===C?"Reagendado":x.a[t]),E.a.createElement("div",{className:"consulta-item-data",id:"date"},E.a.createElement(h.a,null),y()(s).format("DD/MM/Y")),E.a.createElement("div",{className:"consulta-item-data",id:"time"},E.a.createElement(g.a,null),y()(s).format("HH:mm")),E.a.createElement(j.a,{ellipsis:{rows:1,expandable:!1},className:"consulta-item-data",id:"name"},O),E.a.createElement("div",{className:"consulta-item-data",id:"separator"}),E.a.createElement("div",{className:"consulta-item-data",id:"actions"},E.a.createElement("div",{className:"actions-wrapper"},["e","c"].includes(t)&&E.a.createElement(E.a.Fragment,null,"c"===t&&E.a.createElement(i.a,{className:"reagendar",onClick:function(){X(a),R("Reagendar a consulta")}},"Reagendar"),void 0===ce&&E.a.createElement(o.a,{title:O,content:E.a.createElement(k.a,{id:a,modalOpen:H,close:function(){return Y(!1)}})},E.a.createElement(i.a,{type:"primary",onClick:function(e){le(Object(l.a)({id:a,status:t,data_inicio:s,nome_paciente:O,consulta_antiga:C,especialidade:w},D)),Y(!0)}},"e"===t?"Retomar":"Realizar"," atendimento"))),"i"===t&&(null===C||void 0===C?void 0:C.reagendado_por)!==ee&&E.a.createElement(E.a.Fragment,null,E.a.createElement(i.a,{type:"primary",onClick:function(){return ie(a)}},"Aprovar"),E.a.createElement(i.a,{className:"btn-cancelar",type:"primary",danger:!0,onClick:function(){return me(!0)}},"Rejeitar")))))),E.a.createElement(n.a,{centered:!0,closable:!1,title:q,visible:q.length>0,onCancel:function(){R(""),m.a.warning("Cancelado"),B.resetFields()},footer:E.a.createElement(i.a,{size:"large",type:"primary",onClick:B.submit},"Enviar")},E.a.createElement(p.a,{form:B,onFinish:fe},E.a.createElement("div",{className:"modal-form"},E.a.createElement("div",{className:"datetime"},E.a.createElement(p.a.Item,{name:"date",rules:[{required:!0,message:"Informe uma data v\xe1lida"}]},E.a.createElement(c.a,{placeholder:"Data",size:"large",style:{width:"100%"},format:"DD/MM/YYYY",onChange:function(e){return be(null===e||void 0===e?void 0:e.format("DD/MM/Y"))}})),E.a.createElement(p.a.Item,{name:"time",rules:[{required:!0,message:"Informe um hor\xe1rio v\xe1lido"}]},E.a.createElement(r.a,{disabled:!(ne.length>0),placeholder:"Hor\xe1rio",style:{maxWidth:"150px"}},ne.map((function(e){return E.a.createElement(r.a.Option,{key:e,value:e},e)})))))))),E.a.createElement(n.a,{centered:!0,cancelText:"Voltar",okText:"Confirmar",title:"Cancelar consulta",visible:ue,onOk:function(){return se(a,J)},onCancel:function(){return me(!1)},okButtonProps:{disabled:!(J.length>3)}},E.a.createElement(M.a,null,"Deseja cancelar essa consulta?")," ",E.a.createElement("br",null),E.a.createElement(M.a,{style:{fontSize:"12px"}},"Digite abaixo abaixo sua justifica e clique em confirmar"),E.a.createElement(S.a,{rows:3,placeholder:"O motivo para o cancelamento \xe9...",value:J,onChange:function(e){return K(e.target.value)}})))}))},825:function(e,a,t){"use strict";t.d(a,"a",(function(){return v}));t(91);var n=t(42),r=(t(813),t(826)),c=(t(90),t(28)),o=(t(35),t(8)),l=t(6),i=t(3),s=t(0),u=t.n(s),m=(t(815),t(175)),d=t(300),p=t(99),f=t(117),v=Object(s.memo)((function(e){var a=e.isSecretaria,t=(e.isPrestador,Object(s.useState)({editando:!1,objEditando:null,exibir:!1})),v=Object(i.a)(t,2),b=v[0],E=v[1],h=Object(s.useContext)(p.b),g=h.doutor,O=h.agendaSemana,j=h.alternarAtivacaoDia,x=h.adicionarHoraTrabalho,C=h.setLoading,y=Object(s.useContext)(f.b).especialidades,N=Object(s.useCallback)((function(e){return O[e].ativo}),[O]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{bordered:!1,title:"Agenda m\xe9dica",extra:u.a.createElement(o.a,{onClick:function(){return E(Object(l.a)(Object(l.a)({},b),{},{exibir:!0}))}},"Adicionar"),className:"agendas-medica-card"},u.a.createElement("div",{className:"agenda"},O.map((function(e,t){var o=e.dia,l=e.horas,i=e.id,s=e.ativo;return u.a.createElement("div",{key:o,className:"column",style:{textAlign:"center"}},u.a.createElement(n.a,null,u.a.createElement("div",{className:"cabecalho"},!a&&u.a.createElement(r.a,{checked:N(t),onChange:function(){j(i).catch((function(){c.a.error("N\xe3o foi poss\xedvel ".concat(N(t)?"desativar":"ativar"," o dia selecionado."))}))}}),u.a.createElement("div",null,d.a[o]))),l.length>0?u.a.createElement(n.a,null,l.map((function(e,a){var t;return u.a.createElement(m.a.CardHorarioAtendimento,Object.assign({key:e.id,horario:e,diaSemanaAtual:i,especialidadeHorario:null===(t=e.especialidade)||void 0===t?void 0:t.nome,diaSemanaAtivo:s},e))}))):u.a.createElement("div",null))})))),b.exibir?u.a.createElement(m.a.ModalAdicionarPeriodo,{prestadores:g.prestadores,open:b.exibir,diasSemana:O.filter((function(e){return e.ativo})).map((function(e){var a=e.id,t=e.dia;return{id:a,dia:d.a[t]}})),especialidades:y.doDoutor,onClose:function(){return E(Object(l.a)(Object(l.a)({},b),{},{exibir:!1,editando:!1}))},onFinish:function(e){x(e).then((function(){c.a.success("Adicionado com sucesso"),C(!1)})).catch((function(){c.a.error("Erro ao adicionar"),C(!1)})).finally((function(){E(Object(l.a)(Object(l.a)({},b),{},{exibir:!1}))}))}}):null)}))},826:function(e,a,t){"use strict";var n=t(0),r=t(2),c=t(5),o=t(29),l=t(1),i=t.n(l),s=t(56),u=t(10),m=n.forwardRef((function(e,a){var t,l=e.prefixCls,m=void 0===l?"rc-switch":l,d=e.className,p=e.checked,f=e.defaultChecked,v=e.disabled,b=e.loadingIcon,E=e.checkedChildren,h=e.unCheckedChildren,g=e.onClick,O=e.onChange,j=e.onKeyDown,x=Object(o.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(s.a)(!1,{value:p,defaultValue:f}),y=Object(c.a)(C,2),N=y[0],k=y[1];function w(e,a){var t=N;return v||(k(t=e),null===O||void 0===O||O(t,a)),t}var S=i()(m,d,(t={},Object(r.a)(t,"".concat(m,"-checked"),N),Object(r.a)(t,"".concat(m,"-disabled"),v),t));return n.createElement("button",Object.assign({},x,{type:"button",role:"switch","aria-checked":N,disabled:v,className:S,ref:a,onKeyDown:function(e){e.which===u.a.LEFT?w(!1,e):e.which===u.a.RIGHT&&w(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var a=w(!N,e);null===g||void 0===g||g(a,e)}}),b,n.createElement("span",{className:"".concat(m,"-inner")},N?E:h))}));m.displayName="Switch";var d=m,p=t(48),f=t.n(p),v=t(205),b=t(77),E=t(51),h=t(26);function g(){return(g=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function O(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var j=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t},x=n.forwardRef((function(e,a){var t,r=e.prefixCls,c=e.size,o=e.loading,l=e.className,s=void 0===l?"":l,u=e.disabled,m=j(e,["prefixCls","size","loading","className","disabled"]);Object(h.a)("checked"in m||!("value"in m),"Switch","`value` is not a valid prop, do you mean `checked`?");var p=n.useContext(b.b),x=p.getPrefixCls,C=p.direction,y=n.useContext(E.b),N=x("switch",r),k=n.createElement("div",{className:"".concat(N,"-handle")},o&&n.createElement(f.a,{className:"".concat(N,"-loading-icon")})),w=i()(s,(O(t={},"".concat(N,"-small"),"small"===(c||y)),O(t,"".concat(N,"-loading"),o),O(t,"".concat(N,"-rtl"),"rtl"===C),t));return n.createElement(v.a,{insertExtraNode:!0},n.createElement(d,g({},m,{prefixCls:N,className:w,disabled:u||o,ref:a,loadingIcon:k})))}));x.__ANT_SWITCH=!0,x.displayName="Switch";a.a=x},842:function(e,a,t){"use strict";var n=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=t(19),o=function(e,a){return n.createElement(c.a,Object.assign({},e,{ref:a,icon:r}))};o.displayName="PlusOutlined";a.a=n.forwardRef(o)},937:function(e,a,t){},938:function(e,a,t){},939:function(e,a,t){},940:function(e,a,t){},941:function(e,a,t){},942:function(e,a,t){},961:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return ee}));var n=t(0),r=t.n(n),c=t(45),o=t(154),l=t(800),i=(t(91),t(42)),s=(t(937),t(779)),u=t(825),m=t(294),d=(t(136),t(39)),p=(t(938),Object(n.memo)((function(e){var a=e.doutores,t=e.selecionarDoutor,n=e.idDoutor;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{placeholder:"Selecione m\xe9dico",style:{width:200},onChange:t,defaultValue:n},a.map((function(e){var a=e.nome_completo,t=e.usuario;return r.a.createElement(d.a.Option,{value:t,key:t},a)}))))}))),f=function(){var e,a=Object(n.useContext)(m.c),t=a.secretaria,c=a.selecionarDoutor,o=a.doutorSelecionado;return r.a.createElement(s.a,{title:"Agendas"},r.a.createElement(i.a,{className:"secretaria-agenda-card",title:r.a.createElement("div",{className:"secretaria-agenda-cabecalho"},r.a.createElement("span",{className:"secretaria-agenda-cabecalho-titulo"},"Dias para exibir na agenda"),r.a.createElement(p,{doutores:t.doutores,selecionarDoutor:c,idDoutor:null===o||void 0===o||null===(e=o.usuario)||void 0===e?void 0:e.id}))},(null===o||void 0===o?void 0:o.id)?r.a.createElement(u.a,{isSecretaria:!0}):r.a.createElement("div",{className:"sem-medicos"},r.a.createElement("span",{className:"sem-medicos-texto"},"Selecione um m\xe9dico acima"))))},v=(t(405),t(374)),b=(t(35),t(8)),E=t(3),h=(t(939),t(303)),g=t(824),O=(t(68),t(37)),j=(t(92),t(24)),x=(t(151),t(80)),C=(t(90),t(28)),y=t(9),N=t.n(y),k=t(13),w=(t(71),t(7)),S=(t(940),t(52)),D=t.n(S),M=t(87),_=t(54),A=t(47),P=t(49),F=d.a.Option,I=Object(n.memo)((function(e){var a,t,c,o,l=e.onClose,i=e.visible,s=e.doutorSelecionado,u=e.idPrestador,m=Object(n.useState)(!1),p=Object(E.a)(m,2),f=p[0],v=p[1],h=Object(n.useState)([]),g=Object(E.a)(h,2),y=g[0],S=g[1],I=Object(n.useState)([]),q=Object(E.a)(I,2),R=q[0],z=q[1],T=Object(n.useState)(""),H=Object(E.a)(T,2),Y=H[0],L=H[1],B=Object(n.useState)([]),V=Object(E.a)(B,2),W=V[0],J=V[1],K=Object(n.useContext)(P.c).agendar,U=w.a.useForm(),G=Object(E.a)(U,1)[0];var Q=function(){var e=Object(k.a)(N.a.mark((function e(a){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/doutor/".concat(null===s||void 0===s||null===(t=s.usuario)||void 0===t?void 0:t.id,"/pacientes/"),{params:{nome:a}});case 3:n=e.sent,r=n.data,console.log("pacientes >",r),S(r),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error("pacientes",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(N.a.mark((function e(){var a,t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,_.a.get("/especialidades/",{params:{doutor:null===s||void 0===s||null===(a=s.usuario)||void 0===a?void 0:a.id,prestador:u}});case 4:t=e.sent,n=t.data,v(!1),z(n),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),console.error("especialidades",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(k.a)(N.a.mark((function e(a){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/agenda-doutor/".concat(null===s||void 0===s||null===(t=s.usuario)||void 0===t?void 0:t.id,"/"),{params:{especialidade:Y,data:a}});case 3:n=e.sent,r=n.data,J(r),console.log("horararioss",r),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error("pacientes",e.t0),C.a.warning("Sem hor\xe1rios dispon\xedveis para ".concat(a,", escolha outro dia")),J([]),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{loading:f}),r.a.createElement(O.a,{centered:!0,className:"modal-container",title:r.a.createElement(D.a,{level:4},"Nova Consulta"),visible:i,onCancel:l,footer:[r.a.createElement(b.a,{onClick:l,type:"link"},"Cancelar"),r.a.createElement(b.a,{onClick:function(){return G.submit()},type:"primary"},"Agendar")]},r.a.createElement(w.a,{className:"form-container",style:{minHeight:150},id:"form-hooks",form:G,name:"control-hooks",onFinish:function(e){var a=e.data_consulta,t=e.horario.split(":"),n=Object(E.a)(t,2),r=n[0],c=n[1];v(!0),K({paciente_usuario_id:e.paciente,doutor_usuario_id:e.medico,tipo_atendimento:"t",motivo:e.motivo_consulta,data_inicio:"".concat(a.format("DD/MM/Y")," ").concat(r,":").concat(c)}).then((function(){C.a.success("Consulta agendada com sucesso!"),G.resetFields()})).catch((function(){C.a.error("N\xe3o foi possivel realizar a consulta!")})).finally((function(){l(),v(!1)}))},initialValues:{medico:null===s||void 0===s||null===(a=s.usuario)||void 0===a?void 0:a.id}},r.a.createElement(w.a.Item,{name:"medico"},r.a.createElement(d.a,{disabled:!0,allowClear:!0},r.a.createElement(F,{key:null===s||void 0===s||null===(t=s.usuario)||void 0===t?void 0:t.id,value:null===s||void 0===s||null===(c=s.usuario)||void 0===c?void 0:c.id},"Dr(a) ".concat(null===s||void 0===s||null===(o=s.usuario)||void 0===o?void 0:o.nome_completo)))),r.a.createElement(w.a.Item,{name:"paciente",rules:[{required:!0,message:"Informe um paciente!"}]},r.a.createElement(d.a,{showSearch:!0,placeholder:"Buscar por nome",optionFilterProp:"children",onChange:X,onSearch:function(e){Q(e)},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},y.map((function(e,a){var t=e.usuario;return r.a.createElement(F,{key:a,value:t.id},t.nome_completo)})))),r.a.createElement(w.a.Item,{name:"especialidade",rules:[{required:!0,message:"Selecione uma especialidade!"}]},r.a.createElement(d.a,{disabled:!(y.length>0),placeholder:"Especialidades",allowClear:!0,onChange:function(e){return L(e)}},R.map((function(e,a){var t=e.nome;return r.a.createElement(F,{key:a,value:t},t)})))),r.a.createElement(w.a.Item,{name:"data_consulta",rules:[{required:!0,message:"Selecione uma data!"}]},r.a.createElement(x.a,{disabled:!(R.length>0),placeholder:"Data da consulta",style:{width:"100%"},locale:M.a,format:"DD/MM/Y",onChange:function(e){return Z(null===e||void 0===e?void 0:e.format("DD/MM/Y"))}})),r.a.createElement(w.a.Item,{name:"horario",rules:[{required:!0,message:"Escolha um hor\xe1rio"}]},r.a.createElement(d.a,{placeholder:"Escolher hor\xe1rio",allowClear:!0,disabled:!(W.length>0)},W.map((function(e){return r.a.createElement(d.a.Option,{key:e,value:e},e)})))),r.a.createElement(w.a.Item,{name:"motivo_consulta",rules:[{required:!0,message:"Insira um motivo"}]},r.a.createElement(j.a,{required:!0,placeholder:"Motivo da consulta"})))))})),q=t(842),R=function(){var e,a,t=Object(n.useContext)(m.c),c=t.secretaria,o=t.selecionarDoutor,l=t.doutorSelecionado,i=Object(n.useState)(!1),u=Object(E.a)(i,2),d=u[0],f=u[1];return r.a.createElement(s.a,{title:"Atendimentos secretaria"},c&&c.usuario?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{isSecretaria:!0,title:r.a.createElement(p,{doutores:c.doutores,selecionarDoutor:o,idDoutor:null===l||void 0===l||null===(e=l.usuario)||void 0===e?void 0:e.id}),template:g.a,filters:{}}),(null===l||void 0===l||null===(a=l.usuario)||void 0===a?void 0:a.id)&&r.a.createElement(v.a,{style:{position:"fixed",bottom:64,left:"calc(100vw - 100px)"}},r.a.createElement(b.a,{style:{boxShadow:"0 0 12px 0 #0004"},id:"aply",type:"primary",shape:"circle",title:"Salvar Altera\xe7\xf5es",size:"large",icon:r.a.createElement(q.a,null),onClick:function(){return f(!0)}})),r.a.createElement(I,{idPrestador:c.prestador.id,doutorSelecionado:l,onClose:function(){return f(!1)},visible:c&&void 0!==l&&d})):r.a.createElement(A.a,{loading:!0}))},z=(t(291),t(106)),T=(t(292),t(65)),H=(t(941),t(175)),Y=t(30),L=t.n(Y),B=t(142),V=t(120),W=t(791),J=(t(399),t(278)),K=(t(942),function(e,a){var t=new FileReader;t.addEventListener("load",(function(){return a(t.result)})),t.readAsDataURL(e)}),U=t(34),G=t(53),Q=Object(n.memo)((function(){var e=Object(n.useContext)(G.b),a=e.user,t=e.uploadAvatar,c=a.imagem,o=Object(n.useState)(!1),l=Object(E.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)(),m=Object(E.a)(u,2),d=m[0],p=m[1],f=function(){var e=Object(k.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,K(a.file,function(){var e=Object(k.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(a),e.prev=1,e.next=4,t(a);case 4:p(void 0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,setTimeout((function(){s(!1)}),2e3),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(a){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(J.a,{listType:"picture-card",showUploadList:!1,customRequest:f,accept:"image/*"},r.a.createElement("img",{src:"".concat(c||d||U.e,"?").concat(Date.now()),alt:"avatar",style:{width:"100%"}}),r.a.createElement(A.a,{loading:i}))})),X={AgendaPage:f,AtendimentosPage:R,PerfilSecretariaPage:function(){var e,a=Object(n.useContext)(m.c).secretaria,t=Object(n.useState)(!1),c=Object(E.a)(t,2),o=c[0],l=c[1];return r.a.createElement(s.a,{title:"Meu Perfil"},r.a.createElement(i.a,{title:r.a.createElement("div",{className:"secretaria-perfil-cabecalho"},r.a.createElement("span",{className:"secretaria-perfil-cabecalho-titulo"},"Dados Pessoais")),bordered:!1,style:{marginBottom:"20px"}},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:18},r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:12,className:"column"},r.a.createElement(W.a,null,"Nome Completo",a.usuario.nome_completo)),r.a.createElement(T.a,{span:12,className:"column"},r.a.createElement(W.a,null,"Email",a.usuario.email))),r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:12,className:"column"},r.a.createElement(W.a,null,"Data Nascimento",L()(a.usuario.aniversario).format("DD/MM/Y"))),r.a.createElement(T.a,{span:12,className:"column"},r.a.createElement(W.a,null,"CPF",Object(V.a)([a.usuario.cpf,"cpf"])))),r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:12,className:"column"},r.a.createElement(W.a,null,"Sexo",Object(B.a)([a.usuario.genero,"genero"]))),r.a.createElement(T.a,{span:12,className:"column"},r.a.createElement(W.a,null,"Telefone Contato",Object(V.a)([a.usuario.telefone,"tel"])||"N\xe3o informado")))),r.a.createElement(T.a,{span:6},r.a.createElement(W.a,null,"Escolha uma foto de perfil",r.a.createElement(Q,null))))),r.a.createElement("div",{className:"middle-box"},r.a.createElement("div",{className:"box-one"},r.a.createElement(i.a,{title:r.a.createElement("div",{className:"secretaria-perfil-cabecalho"},r.a.createElement("span",{className:"secretaria-perfil-cabecalho-titulo"},"Informa\xe7\xf5es Profissionais")),bordered:!1},r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:8,className:"column"},r.a.createElement(W.a,null,"Prestador",a.prestador.nome)),r.a.createElement(T.a,{span:8,className:"column"},r.a.createElement(W.a,null,"Medicos",null===(e=a.doutores)||void 0===e?void 0:e.map((function(e){return e.nome_completo}))))))),r.a.createElement("div",{className:"box-two"},r.a.createElement(i.a,{title:r.a.createElement("div",{className:"secretaria-perfil-cabecalho"},r.a.createElement("span",{className:"secretaria-perfil-cabecalho-titulo"},"Acesso")),bordered:!1},r.a.createElement(b.a,{style:{maxWidth:150},shape:"round",block:!0,onClick:function(){return l(!0)}},"Mudar Senha"))),r.a.createElement(H.a.ModalAlterarSenha,{exibir:o,fechar:function(){return l(!1)}})))}},Z=t(308),$=function(){return r.a.createElement(c.b,{to:"/secretaria/atendimentos"})},ee=function(){var e=Object(c.k)().path,a=Object(G.c)(),t=a.id,n=a.token;return r.a.createElement(l.a,null,r.a.createElement(m.b,{usuId:t},r.a.createElement(m.a,null,(function(a){var t,l=a.doutorSelecionado;return r.a.createElement(P.b,{token:n,doutor_id:null===l||void 0===l||null===(t=l.usuario)||void 0===t?void 0:t.id},r.a.createElement(P.a,null,(function(a){var t=a.pagina,l=a.setPagina,i=a.doutor_id;return r.a.createElement(Z.a,{token:n,pagina:i?t:void 0,setPagina:l},r.a.createElement(c.e,null,r.a.createElement(o.a,{path:"".concat(e,"/agendas"),component:X.AgendaPage}),r.a.createElement(o.a,{path:"".concat(e,"/atendimentos"),component:X.AtendimentosPage}),r.a.createElement(o.a,{path:"".concat(e,"/perfil"),component:X.PerfilSecretariaPage}),r.a.createElement(o.a,{exact:!0,path:"".concat(e,"/"),component:$})))})))}))))}}}]);